# 06 - 高级 RAG 技术（Advanced RAG）

本目录包含高级检索增强生成（RAG）技术的轻量化 Demo，展示了 RAG 系统的核心组件和优化技术。

## 📚 学习要点

### ✅ 已实现的功能
- **文档处理流水线** - 文档分块、嵌入生成、向量存储
- **多策略检索** - 语义检索、关键词检索、混合检索、多跳检索
- **智能分块技术** - 固定大小、按句子、按段落、语义分块
- **向量相似度计算** - 余弦相似度计算和排序
- **查询扩展技术** - 同义词扩展、上下文扩展
- **重排序机制** - 多样性重排序、时效性重排序
- **多模态检索** - 文本、图像、混合内容检索
- **查询分析引擎** - 复杂度分析、意图识别、实体提取

### 🔄 核心概念
- **检索增强生成** - 结合检索系统和生成模型的技术
- **文档分块策略** - 不同场景下的最优分块方法
- **向量嵌入** - 文本到向量的转换和相似度计算
- **多跳检索** - 复杂查询的多步骤检索策略
- **查询扩展** - 通过同义词和上下文信息扩展查询
- **重排序算法** - 基于多样性和时效性的结果优化
- **多模态处理** - 不同类型文档的统一检索框架
- **查询分析** - 自动分析查询复杂度、意图和实体

## 🚀 快速开始

### 环境准备
1. 安装依赖：`pip install numpy`
2. 运行示例：`python advanced_rag_demo.py`

### 运行示例
- **文档处理演示**：体验不同分块策略的效果
- **检索系统测试**：测试各种检索策略的准确性
- **向量存储操作**：了解向量索引和相似度搜索

## 📝 学习目标
通过本模块，您将掌握：
- RAG 系统的基本架构和组件
- 文档预处理和分块的最佳实践
- 向量检索和相似度计算的原理
- 多策略检索的实现方法

## 💡 进阶思考
- 如何优化分块策略以提高检索质量？
- 如何实现动态检索策略选择？
- 如何集成真实的外部知识库？
- 如何评估和优化 RAG 系统的性能？
- 如何设计智能查询扩展策略？
- 如何实现多模态内容的统一检索？
- 如何优化重排序算法的效果？
- 如何构建查询分析的自适应系统？

## 🏗️ 架构设计模式
- **查询扩展模式** - QueryExpander 类实现同义词和上下文扩展
- **重排序模式** - Reranker 类提供多样性和时效性优化
- **多模态检索模式** - MultiModalRetriever 统一处理不同类型文档
- **查询分析模式** - AdvancedQueryAnalyzer 自动分析查询特征
- **分层检索架构** - 基础检索 → 查询扩展 → 重排序 → 结果合并

## 🌟 实际应用场景
- **智能问答系统** - 结合查询扩展和多跳检索处理复杂问题
- **多模态搜索** - 同时检索文本、图像等不同类型的内容
- **个性化推荐** - 基于查询历史和用户画像优化检索结果
- **企业知识库** - 利用高级 RAG 技术构建智能知识检索系统

## 🔧 技术栈
- **文档处理**：正则表达式、文本分块
- **向量计算**：NumPy、余弦相似度
- **检索策略**：多策略检索框架
- **系统架构**：模块化设计、可扩展接口
- **查询扩展**：同义词词典、上下文分析
- **重排序算法**：多样性计算、时效性排序
- **多模态处理**：统一检索接口、类型适配
- **查询分析**：复杂度评估、意图识别、实体提取